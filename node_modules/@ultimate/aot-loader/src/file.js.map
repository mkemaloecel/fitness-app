{"version":3,"file":"file.js","sourceRoot":"","sources":["../../src/file.ts"],"names":[],"mappings":"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","sourcesContent":["import { createSourceFile, ScriptTarget, SourceFile } from 'typescript';\n\nconst dev = Math.floor(Math.random() * 100000);\n\nexport class Stats {\n  atime = new Date();\n  blksize = 512;\n  btime = new Date();\n  ctime = new Date();\n  dev = dev;\n  gid = process.env['GID'] || 0;\n  ino = Math.floor(Math.random() * 100000);\n  mtime = new Date();\n  nlink = 1;\n  rdev = 0;\n  uid = process.env['UID'] || 0;\n  size = 0;\n\n  constructor(public name: string) {\n\n  }\n\n  isFile() { return false; }\n  isDirectory() { return false; }\n  isBlockDevice() { return false; }\n  isCharacterDevice() { return false; }\n  isSymbolicLink() { return false; }\n  isFIFO() { return false; }\n  isSocket() { return false; }\n\n  get blocks() {\n    return Math.ceil(this.size / this.blksize);\n  }\n}\n\nexport class File extends Stats {\n  sourceFile: SourceFile;\n  _size = 0;\n\n  constructor(name: string, private contents: string) {\n    super(name);\n  }\n\n  get content(): string {\n    return this.contents;\n  }\n\n  set content(content: string) {\n    this.mtime = new Date();\n    this.contents = content;\n  }\n\n  getSourceFile(languageVersion: ScriptTarget, setParentNodes: boolean): SourceFile {\n    if (!this.sourceFile) {\n      this.sourceFile = createSourceFile(this.name, this.contents, languageVersion, setParentNodes);\n    }\n    return this.sourceFile;\n  }\n\n  isFile(): boolean {\n    return true;\n  }\n\n  get size(): number {\n    return this.contents ? this.contents.length : this._size;\n  }\n\n  set size(size: number) {\n    this._size = size;\n  }\n}\n\nexport class Directory extends Stats {\n  size = 1024;\n\n  constructor(name: string) {\n    super(name);\n  }\n\n  isDirectory() {\n    return true;\n  }\n}\n"]}